
<div class="modal-body">
  <form #f="ngForm" id="addStock">

    <div class="form-group">
      <label for="fname">First name</label>
      <input type="text" class="form-control" id="fname"  name="fname" ngModel [(ngModel)]="participant.fname" required #fname="ngModel">
      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="fname.invalid && fname.touched" >
        <span *ngIf="fname.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="lname">Last name</label>
      <input type="text" class="form-control" id="lname"  name="lname" ngModel [(ngModel)]="participant.lname" required #lname="ngModel">
      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="lname.invalid && lname.touched" >
        <span *ngIf="lname.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email"  name="email" ngModel [(ngModel)]="participant.email" required #email="ngModel">
      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="email.invalid && email.touched" >
        <span *ngIf="email.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="tel">Tel</label>
      <input type="text" class="form-control" id="tel"  name="tel" ngModel [(ngModel)]="participant.tel" required #tel="ngModel">
      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="tel.invalid && tel.touched" >
        <span *ngIf="tel.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="type">Type</label>
      <select class="form-control" id="type" name="type" ngModel [(ngModel)]="participant.type" required #type="ngModel">
        <option *ngFor="let type of types" [value]="type"> {{type}}</option>
      </select>
      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="type.invalid && type.touched" >
        <span *ngIf="type.errors?.required">This field is required!</span>
      </div>
    </div>
    <div class="form-group" *ngIf="participant.type=='INTERNATIONAL'">
      <label for="pays">Pays</label>
      <select name="pays" [ngModel]="pays" id="pays" class="form-control" (ngModelChange)="setPays($event)"
              required #pays="ngModel"
              [ngClass]="{'is-invalid': pays.invalid&&pays.touched,'is-valid': pays.valid&&pays.touched}">
        <option *ngFor="let pays of listpays"  [ngValue]="pays" [attr.selected]="pays?.idPays == participant?.pays?.idPays ? true : null">
          {{pays.libelle}}</option>
      </select>

      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="type.invalid && type.touched" >
        <span *ngIf="type.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="profil">Profil</label>
      <select name="profil" [ngModel]="profil" id="profil" class="form-control" (ngModelChange)="setProfil($event)"
              required #profil="ngModel"
              [ngClass]="{'is-invalid': profil.invalid&&profil.touched,'is-valid': profil.valid&&profil.touched}">
        <option *ngFor="let profil of profils"  [ngValue]="profil" [attr.selected]="profil?.idProfil == participant?.profil?.idProfil ? true : null">
          {{profil.libelle}}</option>
      </select>

      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="profil.invalid && profil.touched" >
        <span *ngIf="profil.errors?.required">This field is required!</span>
      </div>
    </div>

    <div class="form-group">
      <label for="structure">Structure</label>
      <select name="structure" [ngModel]="structure" id="structure" class="form-control" (ngModelChange)="setStructure($event)"
              required #structure="ngModel"
              [ngClass]="{'is-invalid': structure.invalid&&structure.touched,'is-valid': structure.valid&&structure.touched}">
        <option *ngFor="let structure of structures"  [ngValue]="structure" [attr.selected]="structure?.idStructure == participant?.structure?.idStructure ? true : null">
          {{structure.libelle}}</option>
      </select>

      <div
        class="alert alert-danger"
        role="alert"
        *ngIf="type.invalid && type.touched" >
        <span *ngIf="type.errors?.required">Structure is required!</span>
      </div>
    </div>



  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
  <input type="submit" value="save" class="btn btn-primary" form="addStock" (click)="sendDataToParent(f.value)">
</div>
